(this["webpackJsonplettuceswap-app"]=this["webpackJsonplettuceswap-app"]||[]).push([[0],{205:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t);var r=n(70),c=n.n(r),a=n(2),s=n.n(a),i=n(4),o=n(3),u=n(1),l=n.n(u),d=n(0),j=function(e){var t=e.createPlant,n=Object(u.useState)(""),r=Object(o.a)(n,2),c=r[0],a=r[1],s=Object(u.useState)(""),i=Object(o.a)(s,2),l=i[0],j=i[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Enter a new Plant"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:c,weeksToHarvest:l}),a(""),j("")},children:[Object(d.jsxs)("div",{children:["Plant Name:",Object(d.jsx)("input",{value:c,onChange:function(e){a(e.target.value)}})]}),Object(d.jsxs)("div",{children:["# of Weeks until Harvest:",Object(d.jsx)("input",{type:"number",value:l,onChange:function(e){j(e.target.value)}})]}),Object(d.jsx)("button",{type:"submit",children:"Save"})]})]})},b=l.a.forwardRef((function(e,t){var n=Object(u.useState)(!1),r=Object(o.a)(n,2),c=r[0],a=r[1],s={display:c?"none":""},i={display:c?"":"none"},l=function(){a(!c)};return Object(u.useImperativeHandle)(t,(function(){return{toggleVisibility:l}})),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{style:s,children:Object(d.jsx)("button",{onClick:l,children:e.buttonLabel})}),Object(d.jsxs)("div",{style:i,children:[e.children,Object(d.jsx)("button",{onClick:l,children:"cancel"})]})]})})),h=function(e){var t=e.sendOffer,n=Object(u.useState)(""),r=Object(o.a)(n,2),c=r[0],a=r[1],s=Object(u.useState)("bids"),i=Object(o.a)(s,2),l=i[0],j=i[1];return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({type:l,price:String(c)}),a(""),j("bids")},children:[Object(d.jsxs)("select",{value:l,onChange:function(e){j(e.target.value)},children:[Object(d.jsx)("option",{value:"bids",children:"Bid"}),Object(d.jsx)("option",{value:"asks",children:"Ask"})]}),"Price in cents/oz in 5c increments",Object(d.jsx)("input",{type:"number",value:c,onChange:function(e){a(e.target.value)}}),Object(d.jsx)("button",{type:"submit",children:"Send"})]})},p=n(73),f=function(e){var t=e.priceChartData,n={labels:t.labels,datasets:[{label:"Bids",data:t.bid_data,backgroundColor:"rgb(34,139,34)"},{label:"Asks",data:t.ask_data,backgroundColor:"rgb(220,20,60)"}]};return Object(d.jsx)("div",{children:Object(d.jsx)(p.a,{data:n})})},O=n(6),x=n.n(O),v="/api/prices",g=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(v,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(v,"/chart/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(i.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("".concat(v,"/").concat(t),n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w={getPrice:g,sendPrice:y,getChart:m},k="/api/location",S=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(k);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://geolocation-db.com/json/");case 2:return n=e.sent,r={city:n.data.city,state:n.data.state,plant:t},e.next=6,x.a.post(k,r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A={getLocations:S,sendLocation:C},P=function(e){var t=e.plant,n=e.notifyUser,r=Object(u.useState)([]),c=Object(o.a)(r,2),a=c[0],l=c[1],j=function(){w.getChart(t.priceData).then((function(e){l(e)}))};Object(u.useEffect)((function(){j()}),[]);var p=function(){var e=Object(i.a)(s.a.mark((function e(r){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O.current.toggleVisibility(),Number(r.price)%5===0){e.next=5;break}return n("Please submit an offer in increment of 5 cents","red"),e.abrupt("return");case 5:return A.sendLocation(t.id),e.prev=6,e.next=9,w.sendPrice(t.priceData,r);case 9:(c=e.sent).sale_happen.result?n("successful sale @ ".concat(c.sale_happen.price," c/oz of ").concat(t.name),"green"):n("".concat(r.type," successful @ ").concat(r.price," c/oz of ").concat(t.name),"green"),j(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),O=Object(u.useRef)();return Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:t.name}),Object(d.jsx)("td",{children:Object(d.jsx)(f,{priceChartData:a})}),Object(d.jsx)("td",{children:Object(d.jsx)(b,{buttonLabel:"Send Bid/Ask",ref:O,children:Object(d.jsx)(h,{sendOffer:p})})})]})},U=function(e){var t=e.plants,n=e.notifyUser;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Produce Market Prices"}),Object(d.jsx)("table",{children:function(e){return e.map((function(e){return Object(d.jsx)(P,{plant:e,notifyUser:n})}))}(t)})]})},z=n.p+"static/media/emissions.ba609137.png",E=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Why is Agriculture Reform Important for Humanity?"}),Object(d.jsxs)(b,{buttonLabel:"Click Here to Find Out More",children:[Object(d.jsx)("h2",{children:"The Emissions Associated with Agriculture"}),Object(d.jsx)("img",{src:z,style:{width:"400px"}}),Object(d.jsx)("h3",{children:"10% of US Emissions is due to Agriculture"}),Object(d.jsx)("p",{children:"\"The US food system as a whole is responsible for the emissions of approximately 2.6 tCO2e per person per year [35]. By our calculations, this accounts for roughly 10% of overall US GHG emissions [35, 36]. Fresh produce accounts for roughly one-tenth of food-related GHG emissions, or approximately 1% of overall US GHG emissions [35]. While 1% of US GHG emissions may not seem like much, the United States emits roughly 20% of the world's greenhouse gases, despite having only 5% of the world's population. With global population growth and increasing preference for the consumer patterns of wealthier nations, food-related emissions\u2014in particular, emissions associated with specialty commodities such as fresh produce\u2014are likely to increase.\""}),Object(d.jsxs)("p",{children:["Source:",Object(d.jsx)("br",{}),Object(d.jsx)("a",{href:"https://iopscience.iop.org/article/10.1088/1748-9326/ab6c2f",children:"Scientific Paper"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("h2",{children:"The Food Wastage"}),Object(d.jsx)("h3",{children:"30% of global food production is wasted"}),Object(d.jsx)("p",{children:'"The United Nations\u2019 Food and Agriculture Organization estimates that, with over 30% of global food production ending up as food waste, it is $2.6 trillion dollar issue.... According to ReFED, a nonprofit committed to reducing US food waste, over 80% of food waste occurs at food service and retail locations as well as consumers\u2019 homes so, the quicker food gets to its destination, the less likely it will have to be thrown away."'}),Object(d.jsxs)("p",{children:["Source:",Object(d.jsx)("br",{}),Object(d.jsx)("a",{href:"https://indooragtechnyc.com/is-agriculture-the-next-area-to-experience-decentralization/",children:"Eco Investor Op-ed"})]})]})]})},H=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"LettuceSwap"}),Object(d.jsx)("h2",{children:"A Localized Produce Market"}),Object(d.jsx)("h3",{children:"Promote Food Security, Reduce Waste and Emissions, Improve Nutrition and Taste"}),Object(d.jsx)("p",{children:"As Hydroponic vertical gardens become accessible, a decentralized agricultural paradigm becomes possible. In addition to the actual cultivating technology, an accompanying decentralized market is integral to the sustained success and longevity of a new agricultural system. Allowing people to easily sell their own grown produce helps to financially incentivize food independence, improve people's access to healthy foods, reduce food wastage through market efficiency, and help reduce transportation distance for produce."})]})},L=function(e){var t=e.message,n={color:e.type,background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10};return null===t?null:Object(d.jsx)("div",{style:n,children:t})},T=function(e){var t=e.locations;return Object(d.jsxs)("ul",{children:[Object(d.jsx)("h3",{children:"Is Your Community Ready?"}),Object(d.jsx)("p",{children:"Check out which places are trading produce!"}),function(){var e=[];for(var n in t)e.push(Object(d.jsxs)("li",{children:[t[n]," bid/asks in ",n]}));return e}()]})},R=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/statistic");case 2:return t=e.sent,e.abrupt("return",t.data[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G={getStats:R},B=function(){var e=Object(u.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(u.useState)([]),a=Object(o.a)(c,2),s=a[0],i=a[1],l=function(){G.getStats().then((function(e){r(e)})),A.getLocations().then((function(e){i(e)}))};return Object(u.useEffect)((function(){l()}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Market Statistics"}),Object(d.jsxs)("table",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Total Sales:"}),Object(d.jsx)("td",{children:n.totalSales})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Total Asks:"}),Object(d.jsx)("td",{children:n.totalAsks})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Total Bids:"}),Object(d.jsx)("td",{children:n.totalBids})]}),Object(d.jsx)("tr",{children:Object(d.jsx)(T,{locations:s})})]}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:l,children:"Refresh Stats"})]})},D="/api/plants",I=function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(D);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post(D,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W={getAll:I,create:F},N=function(){var e=Object(u.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(u.useState)(null),a=Object(o.a)(c,2),l=a[0],h=a[1],p=Object(u.useState)(""),f=Object(o.a)(p,2),O=f[0],x=f[1];Object(u.useEffect)((function(){W.getAll().then((function(e){r(e)}))}),[]);var v=function(){var e=Object(i.a)(s.a.mark((function e(t){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.current.toggleVisibility(),e.prev=1,e.next=4,W.create(t);case 4:c=e.sent,r(n.concat(c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),g=Object(u.useRef)();return Object(d.jsxs)("div",{children:[Object(d.jsx)(H,{}),Object(d.jsx)("br",{}),Object(d.jsx)(L,{message:l,type:O}),Object(d.jsxs)("div",{children:[Object(d.jsx)(U,{plants:n,notifyUser:function(e,t){h(e),x(t),setTimeout((function(){h(null)}),7e3)}}),Object(d.jsx)("br",{}),Object(d.jsx)(b,{buttonLabel:"New Plant",ref:g,children:Object(d.jsx)(j,{createPlant:v})}),Object(d.jsx)("br",{}),Object(d.jsx)(B,{}),Object(d.jsx)("br",{})]}),Object(d.jsx)("br",{}),Object(d.jsx)(E,{})]})};n(205);c.a.render(Object(d.jsx)(N,{}),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.268a892c.chunk.js.map